stages:
  - integration

# AGIFY
micro_agify_develop:
  stage: integration
  trigger:
    include: micro_agify/CI_CD/.agify-develop-pipeline.yml
  rules:
    - if: $CI_COMMIT_BRANCH == $DEVELOP_BRANCH_NAME
      changes:
        - micro_agify/*

micro_agify_main:
  stage: integration
  trigger:
    include: micro_agify/CI_CD/.agify-main-pipeline.yml
  rules:
    - if: $CI_COMMIT_BRANCH == $MAIN_BRANCH_NAME
      changes:
        - micro_agify/*

# GENDERIZE
micro_genderize:
  stage: integration
  trigger:
    include: micro_genderize/.genderize-pipeline.yml
  rules:
    - changes:
        - micro_genderize/*

# MIDDLEWARE
micro_middleware:
  stage: integration
  trigger:
    include: middleware/.middleware-pipeline.yml
  rules:
    - changes:
        - middleware/*
